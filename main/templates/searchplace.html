{% extends 'main.html' %}
{% block title %}
Search Place
{% endblock title %}

{% load static %}

{% block myblock %}


<style>
*, *:before, *:after {
    -webkit-tap-highlight-color: transparent;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    user-select: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    padding: 0;
    margin: 0;
  }
  
  .textcontainer{
      padding-bottom: 40px;
  }
  .searchpage{
      text-align:center;
      font-size: 35px;
  }
 
  .container {
    position: relative;
    margin: calc(75px + 2vh + 2vw) auto 0 auto;
    padding: 0;
    width: 100%;
    max-width: 840px;
  }
  .search-box {
    position: relative;
    width: 100%;
    max-width: 360px;
    height: 60px;
    border-radius: 120px;
    margin: 0 auto;
  }
  .search-icon, .go-icon {
    position: absolute;
    top: 0;
    height: 60px;
    width: 86px;
    line-height: 61px;
    text-align: center;
  }
  .search-icon {
    left: 0;
    pointer-events: none;
    font-size: 1.22em;
    will-change: transform;
    transform: rotate(0deg);
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform-origin: center center;
    -webkit-transform-origin: center center;
    -moz-transform-origin: center center;
    -o-transform-origin: center center;
    transition: transform 400ms 220ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -webkit-transition: transform 400ms 220ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -moz-transition: transform 400ms 220ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -o-transition: transform 400ms 220ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
  }
  .si-rotate {
    transform: rotate(45deg);
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
  }
  .go-icon {
    right: 0;
    pointer-events: none;
    font-size: 1.38em;
    will-change: opacity;
    cursor: default;
    opacity: 0;
    transform: rotate(45deg);
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    transition: opacity 190ms ease-out, transform 260ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -webkit-transition: opacity 190ms ease-out, transform 260ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -moz-transition: opacity 190ms ease-out, transform 260ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -o-transition: opacity 190ms ease-out, transform 260ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
  }
  .go-in {
    opacity: 1;
    pointer-events: all;
    cursor: pointer;
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    transition: opacity 190ms ease-out, transform 260ms 20ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -webkit-transition: opacity 190ms ease-out, transform 260ms 20ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -moz-transition: opacity 190ms ease-out, transform 260ms 20ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
    -o-transition: opacity 190ms ease-out, transform 260ms 20ms cubic-bezier(0.190, 1.000, 0.220, 1.000);
  }
  .search-border {
    display: block;
    width: 100%;
    max-width: 360px;
    height: 60px;
  }
  .border {
    fill: none;
    stroke: #c2c2c2;
    stroke-width: 3;
    stroke-miterlimit: 10;
  }
  .border {
    stroke-dasharray: 740;
    stroke-dashoffset: 0;
    transition: stroke-dashoffset 400ms cubic-bezier(0.600, 0.040, 0.735, 0.990);
    -webkit-transition: stroke-dashoffset 400ms cubic-bezier(0.600, 0.040, 0.735, 0.990);
    -moz-transition: stroke-dashoffset 400ms cubic-bezier(0.600, 0.040, 0.735, 0.990);
    -o-transition: stroke-dashoffset 400ms cubic-bezier(0.600, 0.040, 0.735, 0.990);
  }
  .border-searching .border {
    stroke-dasharray: 740;
    stroke-dashoffset: 459;
    transition: stroke-dashoffset 650ms cubic-bezier(0.755, 0.150, 0.205, 1.000);
    -webkit-transition: stroke-dashoffset 650ms cubic-bezier(0.755, 0.150, 0.205, 1.000);
    -moz-transition: stroke-dashoffset 650ms cubic-bezier(0.755, 0.150, 0.205, 1.000);
    -o-transition: stroke-dashoffset 650ms cubic-bezier(0.755, 0.150, 0.205, 1.000);
  }
  #search {
   
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 120px;
    border: none;
    background: rgba(255,255,255,0);
    padding: 0 68px 0 68px;
    color: #d8d7d7;
    font-size: 1.32em;
    font-weight: 200;
    letter-spacing: -0.015em;
    outline: none;
  }
  #search::-webkit-input-placeholder {color: #918f8f;}
  #search::-moz-placeholder {color: #918f8f;}
  #search:-ms-input-placeholder {color: #918f8f;}
  #search:-moz-placeholder {color: #918f8f;}
  #search::-moz-selection {color: #918f8f; background: rgba(0,0,0,0.25);}
  #search::selection {color: #918f8f; background: rgba(0,0,0,0.25);}


  .searchlist{

    padding-top: 10px;
  }
</style>  

<script src="https://cdn.tailwindcss.com"></script>
{% endblock myblock %}

{% block content %}
<section class="inner-page">
  <div class="container " data-aos="fade-up" >
  
      <div class="container" data-aos="fade-up">
         
<div class="container">
    <div class="textcontainer">
    <h1 class="searchpage">Search for Destinations</h1>
    
</div>
    <div class="search-box">
        <div class="search-icon"><i class="fa fa-search search-icon"></i></div>
        <form method='GET' action="{% url 'places' %}" class="search-form" id="searchform" >
           
            {% if searchterm %}
            <input type="text" placeholder="Search" value="{{searchterm}}" name="searched" id="search" autocomplete="off">
            {% else %}
            <input type="text" placeholder="Search" name="searched" id="search" autocomplete="off">
            {% endif %}
        </form>
        <svg class="search-border" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" viewBox="0 0 671 111" style="enable-background:new 0 0 671 111;"
         xml:space="preserve">
      <path class="border" d="M335.5,108.5h-280c-29.3,0-53-23.7-53-53v0c0-29.3,23.7-53,53-53h280"/>
      <path class="border" d="M335.5,108.5h280c29.3,0,53-23.7,53-53v0c0-29.3-23.7-53-53-53h-280"/>
    </svg>
        <div class="go-icon"><i class="fa fa-arrow-right"></i></div>
    </div>

</div>

      </div>


{% if object_list %}

    <div class="container" data-aos="fade-up">
        <div class="container  mx-auto ">
      <div class="section-title">
        <h2>Search results for '{{searchterm}}'</h2>
        
      </div>

      
      <div class="text-gray-600 body-font">
       
          <div class="flex flex-wrap -m-4">
        {% for place in object_list %}
       
              <div class="py-3 px-3 md:w-1/3">
                <div class="member" data-aos="zoom-in" data-aos-delay="100">
                <div class="h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden ">
                  <a href="{{place.thumbnail_image.url}}" class="gallery-lightbox" data-gall="gallery-item">
                  <img class="lg:h-48 md:h-36 w-full object-cover object-center transition duration-100 hover:opacity-60 hover:cursor-pointer transition duration-200" src="{{place.thumbnail_image.url}}" alt="thumbnail">
                  </a>
                  <div class="p-6">
                    <h1 class="title-font text-lg font-medium text-gray-100 mb-3">{{place.name | truncatewords:5}}</h1>
                    <p class="leading-relaxed mb-3">{{place.descrption | truncatewords:10 }}</p>
                    <div class="flex items-center flex-wrap ">
                      <a class="text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0" href="{% url 'placeview' place.id %}">Visit Now
                        <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M5 12h14"></path>
                          <path d="M12 5l7 7-7 7"></path>
                        </svg>
                      </a>
                    </div>
                  </div>
                </div>
                </div>
              </div>
            
        {% endfor %}
            </div>
      </div>
      </div>
      </div>
   
 
      {% else %}

      {% if searchterm %}
      <p style="padding-top: 50px; text-align:center;" class=" text-gray-300">Sorry, no results found for '{{searchterm}}'. Please try again. </p>
      
      {% else %}
      {% endif %}
      
      {% endif %}
    </div>
    </section>








{% endblock content %}

{% block myscript %}
<script>
    $(document).ready(function(){
        $("#search").focus(function() {
          $(".search-box").addClass("border-searching");
          $(".search-icon").addClass("si-rotate");
        });
        $("#search").blur(function() {
          $(".search-box").removeClass("border-searching");
          $(".search-icon").removeClass("si-rotate");
        });
        $("#search").keyup(function() {
            if($(this).val().length > 0) {
              $(".go-icon").addClass("go-in");
            }
            else {
              $(".go-icon").removeClass("go-in");
            }

        });
    
   document.getElementById("search").addEventListener("keyup", function(event) {
    if (event.keyCode === 13) {
    	document.getElementById("searchform").submit();
		return false;
    }

});

    $(".go-icon").click(function(){
          $("#searchform").submit();
        });
    });

</script>

{% endblock myscript %}